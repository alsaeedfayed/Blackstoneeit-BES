<form [formGroup]="confirmationForm">
  <div class="form-group mb-4" *ngIf="action?.type === 'ForceAction'">
    <label for="" class="form-label">
      {{ "initiationForm.step" | translate }}
    </label>
    <select name="" id="" [formControl]="step" class="form-select">
      <option selected="selected" [value]="null">
        {{ "initiationForm.selectStep" | translate }}
      </option>
      <option *ngFor="let step of forceActionSteps" [value]="step?.id">
        {{ step?.title[lang] }}
      </option>
    </select>
  </div>
  <div
    class="form-group position-relative mb-4"
    *ngIf="action?.type === 'ReassignAction'"
  >
    <label for="" class="form-label">
      {{ "initiationForm.assignees" | translate }}
    </label>
    <input
      [ngbTypeahead]="searchUsers"
      placeholder="{{ 'shared.search' | translate }}"
      [resultFormatter]="formatter"
      [inputFormatter]="formatter"
      id="typeahead-focus"
      type="text"
      (selectItem)="onSelectAssignee($event, input)"
      class="form-control"
      #input
    />
    <ul
      *ngIf="selectedAssignees?.length !== 0"
      class="selected-users-list mt-2 mb-0"
    >
      <li *ngFor="let assignee of selectedAssignees">
        <span class="project-card-status-badge primary">
          {{ assignee?.fullName }}
          <i (click)="onUnselectUser(assignee.id)" class="bx bx-x"></i>
        </span>
      </li>
    </ul>
  </div>
  <div class="form-group mb-4">
    <label for="" class="form-label">
      {{ "initiationForm.comment" | translate }}:
    </label>
    <textarea formControlName="comment" class="form-textarea"></textarea>
    <small
      class="form-error"
      *ngIf="getConfirmationForm.comment?.errors?.required && isFormSubmitted"
    >
      <i class="bx bx-error-circle mr-2"></i>
      {{ "shared.validations.required" | translate }}
    </small>
  </div>
  <div class="form-group">
    <label for="" class="form-label">
      {{ "initiationForm.attachment" | translate }}:
    </label>
    <div class="file-input-container mb-2 w-100 mr-2">
      <label for="file-input" class="file-input">
        <i class="bx bx-upload"></i>
        <span class="cta-text">
          {{ "initiationForm.clickToSelectFile" | translate }}
        </span>
        <!-- <span class="supported-files-text">{{'initiationForm.supportedFiles' | translate}}</span> -->
        <input type="file" (change)="onFileChange($event)" id="file-input" />
      </label>
      <div *ngIf="selectedFiles != 0" class="selected-files">
        <div
          *ngFor="let file of selectedFiles; let i = index"
          class="file mb-1"
        >
          <i class="bx bx-paperclip"></i>
          <span class="file-name">{{ file.title }}</span>
          <button (click)="onDeleteFile(i)">
            {{ "shared.delete" | translate }}
          </button>
        </div>
      </div>
    </div>
  </div>
</form>
