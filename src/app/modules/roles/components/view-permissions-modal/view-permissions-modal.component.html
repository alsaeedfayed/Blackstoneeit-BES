<app-model
  [dimensions]="{ width: 620, height: 750 }"
  [id]="'view-permissions'"
  [hasBackBtn]="false"
  [hasTitle]="false"
  [isNewModel]="true"
  (close)="onPopupClose()"
>
  <div modal-header class="view-permissions-model-header w-100">
    <label class="modal-title">
      {{ lang === 'en'? role?.name : role?.nameAr }} {{ 'roles.role' | translate }}
    </label>
  </div>

  <div modal-content class="view-permissions-model-content border-top">
    <div class="new-model-dialog-body">

      <!-- role name -->
      <div class="mt-3">
        <label class="form-label">
          {{ 'roles.roleName' | translate }}
        </label>
        <input
          class="form-control"
          type="text"
          disabled
          [value]="lang === 'en' ? role?.name : role?.nameAr"
        >
      </div>

      <!-- english permissions -->
      <div class="permissions-container mt-3" *ngIf="lang === 'en'">
        <ul *ngFor="let permission of role?.structuredPermissions">
          <h3 class="title">{{ permission.name }}</h3>
          <li *ngFor="let child of permission.children">{{ child.name }}</li>
        </ul>
      </div>

      <!-- arabic permissions -->
      <div class="permissions-container mt-3" *ngIf="lang === 'ar'">
        <ul *ngFor="let permission of role?.structuredPermissionsAr">
          <h3 class="title">{{ permission.name }}</h3>
          <li *ngFor="let child of permission.children">{{ child.name }}</li>
        </ul>
      </div>
    </div>

    <!-- footer buttons -->
    <div class="new-model-dialog-footer">

      <!-- back button -->
      <button
        class="btn btn-dark flex-grow-1"
        (click)="onPopupClose()"
      >
        {{ 'shared.back' | translate }}
      </button>
    </div>
  </div>
</app-model>
